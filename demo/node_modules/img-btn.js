module.exports = img_btn

function img_btn ({name, body, icon = {}, cover, disabled, props = {}}, button, protocol) {
    // align: icon-center, icon-right, avatar-left, avatar-right, text-left
    let {icon_name = 'edit', path, align = 'text-left'} = icon
    const {
        icon_size = '20px',
        img_width = '100px', 
        img_height = '100px',
        weight = '600', 
        size = 'var(--size24)', 
        size_hover = 'var(--size36)', 
        color = 'var(--color-amaranth-pink)', 
        color_hover = 'var(--primary-hover-color)',
        bg_color = 'var(--primary-bg-color)',
        bg_color_hover = 'var(--color-greyD9)', 
        border_radius = '0',
        disabled_size = 'var(--size24)',
        shadow_opacity = '0.2'
    } = props
    
    return button(
        {
            name, 
            body,
            icon: {name: icon_name, path, align},
            cover,
            disabled,
            theme:
            { 
                // to solve border-radius & overflow: hidden not working on safari
                // -webkit-mask-image: -webkit-radial-gradient(white, black)
                // transform: translateZ(0)
                style: `
                .avatar {
                    -webkit-mask-image: -webkit-radial-gradient(white, black);
                    overflow: hidden;
                    border-radius: 50%;
                    /*transform: translateZ(0);*/
                }
                .avatar img {
                    transform: translate(0, -10%);
                }
                `, 
                props: { icon_size, img_width, img_height, weight, size, size_hover, color, color_hover, bg_color, bg_color_hover, border_radius, disabled_size, shadow_opacity}
            }
        }, protocol)
} 